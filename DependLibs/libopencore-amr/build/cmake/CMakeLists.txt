cmake_minimum_required(VERSION 3.12.2)

project(libopencore-amr)

set(CMAKE_CONFIGURATION_TYPES "Debug"
    CACHE STRING "Configuration types" FORCE)

add_library(libopencore-amr STATIC
  ../../../../AppCompilerConfig.h
  ../../../../GoTvConfig.h
  ../../../../AppCpuArchDefines.h
  ../../../../AppDependLibrariesConfig.h
  ../../../../GoTvFeaturesConfig.h
  ../../../../AppTargetOsConfig.h
  ../../amrnb/common/abs_s.h
  ../../amrnb/common/add.cpp
  ../../amrnb/common/add.h
  ../../amrnb/common/az_lsp.cpp
  ../../amrnb/common/az_lsp.h
  ../../amrnb/common/basic_op.h
  ../../amrnb/common/basic_op_arm_gcc_v5.h
  ../../amrnb/common/basic_op_c_equivalent.h
  ../../amrnb/common/basicop_malloc.h
  ../../amrnb/common/bitno_tab.cpp
  ../../amrnb/common/bitno_tab.h
  ../../amrnb/common/bitreorder_tab.cpp
  ../../amrnb/common/bitreorder_tab.h
  ../../amrnb/common/bits2prm.cpp
  ../../amrnb/common/bytesused.h
  ../../amrnb/common/c2_9pf_tab.cpp
  ../../amrnb/common/cnst.h
  ../../amrnb/common/cnst_vad.h
  ../../amrnb/common/common_amrnb.h
  ../../amrnb/common/copy.cpp
  ../../amrnb/common/d_gain_c.h
  ../../amrnb/common/d_gain_p.h
  ../../amrnb/common/d_plsf.h
  ../../amrnb/common/div_32_common.cpp
  ../../amrnb/common/div_s.cpp
  ../../amrnb/common/div_s.h
  ../../amrnb/common/dtx_common_def.h
  ../../amrnb/common/extract_h.cpp
  ../../amrnb/common/extract_l.cpp
  ../../amrnb/common/frame.h
  ../../amrnb/common/frame_type_3gpp.h
  ../../amrnb/common/gains_tbl.cpp
  ../../amrnb/common/gc_pred.cpp
  ../../amrnb/common/gc_pred.h
  ../../amrnb/common/get_const_tbls.cpp
  ../../amrnb/common/get_const_tbls.h
  ../../amrnb/common/gmed_n.cpp
  ../../amrnb/common/gmed_n.h
  ../../amrnb/common/gray_tbl.cpp
  ../../amrnb/common/grid_tbl.cpp
  ../../amrnb/common/gsm_amr_typedefs.h
  ../../amrnb/common/int_lpc.cpp
  ../../amrnb/common/int_lpc.h
  ../../amrnb/common/int_lsf.h
  ../../amrnb/common/inv_sqrt.cpp
  ../../amrnb/common/inv_sqrt.h
  ../../amrnb/common/inv_sqrt_tbl.cpp
  ../../amrnb/common/l_abs_common.cpp
  ../../amrnb/common/l_add.h
  ../../amrnb/common/l_add_c.h
  ../../amrnb/common/l_comp.h
  ../../amrnb/common/l_deposit_h.cpp
  ../../amrnb/common/l_deposit_l.cpp
  ../../amrnb/common/l_extract.h
  ../../amrnb/common/l_mac.h
  ../../amrnb/common/l_msu.h
  ../../amrnb/common/l_mult.h
  ../../amrnb/common/l_negate.h
  ../../amrnb/common/l_shl.h
  ../../amrnb/common/l_shr.h
  ../../amrnb/common/l_shr_r.cpp
  ../../amrnb/common/l_shr_r.h
  ../../amrnb/common/l_sub.h
  ../../amrnb/common/log2.cpp
  ../../amrnb/common/log2.h
  ../../amrnb/common/log2_norm.cpp
  ../../amrnb/common/log2_norm.h
  ../../amrnb/common/log2_tbl.cpp
  ../../amrnb/common/lsfwt.cpp
  ../../amrnb/common/lsfwt.h
  ../../amrnb/common/lsp.cpp
  ../../amrnb/common/lsp.h
  ../../amrnb/common/lsp_az.cpp
  ../../amrnb/common/lsp_az.h
  ../../amrnb/common/lsp_lsf.cpp
  ../../amrnb/common/lsp_lsf.h
  ../../amrnb/common/lsp_lsf_tbl.cpp
  ../../amrnb/common/lsp_tab.cpp
  ../../amrnb/common/lsp_tab.h
  ../../amrnb/common/mac_32.h
  ../../amrnb/common/mode.h
  ../../amrnb/common/mpy_32.h
  ../../amrnb/common/mpy_32_16.h
  ../../amrnb/common/mult.h
  ../../amrnb/common/mult_r.cpp
  ../../amrnb/common/mult_r.h
  ../../amrnb/common/n_proc.h
  ../../amrnb/common/negate.cpp
  ../../amrnb/common/negate.h
  ../../amrnb/common/norm_l.cpp
  ../../amrnb/common/norm_l.h
  ../../amrnb/common/norm_s.cpp
  ../../amrnb/common/norm_s.h
  ../../amrnb/common/oper_32b.h
  ../../amrnb/common/overflow_tbl.cpp
  ../../amrnb/common/p_ol_wgh.h
  ../../amrnb/common/ph_disp_tab.cpp
  ../../amrnb/common/pow2.cpp
  ../../amrnb/common/pow2.h
  ../../amrnb/common/pow2_tbl.cpp
  ../../amrnb/common/pred_lt.cpp
  ../../amrnb/common/pred_lt.h
  ../../amrnb/common/pvgsmamr.h
  ../../amrnb/common/q_plsf.cpp
  ../../amrnb/common/q_plsf.h
  ../../amrnb/common/q_plsf_3.cpp
  ../../amrnb/common/q_plsf_3_tbl.cpp
  ../../amrnb/common/q_plsf_3_tbl.h
  ../../amrnb/common/q_plsf_5.cpp
  ../../amrnb/common/q_plsf_5_tbl.cpp
  ../../amrnb/common/q_plsf_5_tbl.h
  ../../amrnb/common/qgain475_tab.h
  ../../amrnb/common/qua_gain.h
  ../../amrnb/common/qua_gain_tbl.cpp
  ../../amrnb/common/qua_gain_tbl.h
  ../../amrnb/common/reorder.cpp
  ../../amrnb/common/reorder.h
  ../../amrnb/common/residu.cpp
  ../../amrnb/common/residu.h
  ../../amrnb/common/reverse_bits.h
  ../../amrnb/common/round.cpp
  ../../amrnb/common/round.h
  ../../amrnb/common/set_zero.cpp
  ../../amrnb/common/set_zero.h
  ../../amrnb/common/shl.h
  ../../amrnb/common/shr.cpp
  ../../amrnb/common/shr.h
  ../../amrnb/common/shr_r.cpp
  ../../amrnb/common/shr_r.h
  ../../amrnb/common/sqrt_l.cpp
  ../../amrnb/common/sqrt_l.h
  ../../amrnb/common/sqrt_l_tbl.cpp
  ../../amrnb/common/sub.cpp
  ../../amrnb/common/sub.h
  ../../amrnb/common/syn_filt.cpp
  ../../amrnb/common/syn_filt.h
  ../../amrnb/common/typedef.h
  ../../amrnb/common/vad.h
  ../../amrnb/common/weight_a.cpp
  ../../amrnb/common/weight_a.h
  ../../amrnb/common/window_tab.cpp
  ../../amrnb/common/window_tab.h
  ../../amrnb/common/wmf_to_ets.h
  ../../amrnb/dec/a_refl.cpp
  ../../amrnb/dec/a_refl.h
  ../../amrnb/dec/agc.cpp
  ../../amrnb/dec/agc.h
  ../../amrnb/dec/amrdecode.cpp
  ../../amrnb/dec/amrdecode.h
  ../../amrnb/dec/b_cn_cod.cpp
  ../../amrnb/dec/b_cn_cod.h
  ../../amrnb/dec/bgnscd.cpp
  ../../amrnb/dec/bgnscd.h
  ../../amrnb/dec/c_g_aver.cpp
  ../../amrnb/dec/c_g_aver.h
  ../../amrnb/dec/d_gain_c.cpp
  ../../amrnb/dec/d_gain_p.cpp
  ../../amrnb/dec/d_plsf.cpp
  ../../amrnb/dec/d_plsf_3.cpp
  ../../amrnb/dec/d_plsf_5.cpp
  ../../amrnb/dec/d1035pf.cpp
  ../../amrnb/dec/d1035pf.h
  ../../amrnb/dec/d2_11pf.cpp
  ../../amrnb/dec/d2_11pf.h
  ../../amrnb/dec/d2_9pf.cpp
  ../../amrnb/dec/d2_9pf.h
  ../../amrnb/dec/d3_14pf.cpp
  ../../amrnb/dec/d3_14pf.h
  ../../amrnb/dec/d4_17pf.cpp
  ../../amrnb/dec/d4_17pf.h
  ../../amrnb/dec/d8_31pf.cpp
  ../../amrnb/dec/d8_31pf.h
  ../../amrnb/dec/dec_amr.cpp
  ../../amrnb/dec/dec_amr.h
  ../../amrnb/dec/dec_gain.cpp
  ../../amrnb/dec/dec_gain.h
  ../../amrnb/dec/dec_input_format_tab.cpp
  ../../amrnb/dec/dec_lag3.cpp
  ../../amrnb/dec/dec_lag3.h
  ../../amrnb/dec/dec_lag6.cpp
  ../../amrnb/dec/dec_lag6.h
  ../../amrnb/dec/decoder_gsm_amr.cpp
  ../../amrnb/dec/dtx_dec.cpp
  ../../amrnb/dec/dtx_dec.h
  ../../amrnb/dec/ec_gains.cpp
  ../../amrnb/dec/ec_gains.h
  ../../amrnb/dec/ex_ctrl.cpp
  ../../amrnb/dec/ex_ctrl.h
  ../../amrnb/dec/gsmamr_dec.h
  ../../amrnb/dec/if2_to_ets.cpp
  ../../amrnb/dec/if2_to_ets.h
  ../../amrnb/dec/int_lsf.cpp
  ../../amrnb/dec/lsp_avg.cpp
  ../../amrnb/dec/lsp_avg.h
  ../../amrnb/dec/ph_disp.cpp
  ../../amrnb/dec/ph_disp.h
  ../../amrnb/dec/post_pro.cpp
  ../../amrnb/dec/post_pro.h
  ../../amrnb/dec/preemph.cpp
  ../../amrnb/dec/preemph.h
  ../../amrnb/dec/pstfilt.cpp
  ../../amrnb/dec/pstfilt.h
  ../../amrnb/dec/pvgsmamrdecoder.cpp
  ../../amrnb/dec/pvgsmamrdecoder.h
  ../../amrnb/dec/pvgsmamrdecoder_dpi.h
  ../../amrnb/dec/qgain475_tab.cpp
  ../../amrnb/dec/sp_dec.cpp
  ../../amrnb/dec/sp_dec.h
  ../../amrnb/dec/wmf_to_ets.cpp
  ../../amrnb/enc/amrencode.cpp
  ../../amrnb/enc/amrencode.h
  ../../amrnb/enc/autocorr.cpp
  ../../amrnb/enc/autocorr.h
  ../../amrnb/enc/c1035pf.cpp
  ../../amrnb/enc/c1035pf.h
  ../../amrnb/enc/c2_11pf.cpp
  ../../amrnb/enc/c2_11pf.h
  ../../amrnb/enc/c2_9pf.cpp
  ../../amrnb/enc/c2_9pf.h
  ../../amrnb/enc/c3_14pf.cpp
  ../../amrnb/enc/c3_14pf.h
  ../../amrnb/enc/c4_17pf.cpp
  ../../amrnb/enc/c4_17pf.h
  ../../amrnb/enc/c8_31pf.cpp
  ../../amrnb/enc/c8_31pf.h
  ../../amrnb/enc/calc_cor.cpp
  ../../amrnb/enc/calc_cor.h
  ../../amrnb/enc/calc_en.cpp
  ../../amrnb/enc/calc_en.h
  ../../amrnb/enc/cbsearch.cpp
  ../../amrnb/enc/cbsearch.h
  ../../amrnb/enc/cl_ltp.cpp
  ../../amrnb/enc/cl_ltp.h
  ../../amrnb/enc/cod_amr.cpp
  ../../amrnb/enc/cod_amr.h
  ../../amrnb/enc/convolve.cpp
  ../../amrnb/enc/convolve.h
  ../../amrnb/enc/cor_h.cpp
  ../../amrnb/enc/cor_h.h
  ../../amrnb/enc/cor_h_x.cpp
  ../../amrnb/enc/cor_h_x.h
  ../../amrnb/enc/cor_h_x2.cpp
  ../../amrnb/enc/cor_h_x2.h
  ../../amrnb/enc/corrwght_tab.cpp
  ../../amrnb/enc/div_32.cpp
  ../../amrnb/enc/div_32.h
  ../../amrnb/enc/dtx_enc.cpp
  ../../amrnb/enc/dtx_enc.h
  ../../amrnb/enc/enc_lag3.cpp
  ../../amrnb/enc/enc_lag3.h
  ../../amrnb/enc/enc_lag6.cpp
  ../../amrnb/enc/enc_lag6.h
  ../../amrnb/enc/enc_output_format_tab.cpp
  ../../amrnb/enc/ets_to_if2.cpp
  ../../amrnb/enc/ets_to_if2.h
  ../../amrnb/enc/ets_to_wmf.cpp
  ../../amrnb/enc/ets_to_wmf.h
  ../../amrnb/enc/g_adapt.cpp
  ../../amrnb/enc/g_adapt.h
  ../../amrnb/enc/g_code.cpp
  ../../amrnb/enc/g_code.h
  ../../amrnb/enc/g_pitch.cpp
  ../../amrnb/enc/g_pitch.h
  ../../amrnb/enc/gain_q.cpp
  ../../amrnb/enc/gain_q.h
  ../../amrnb/enc/gsmamr_enc.h
  ../../amrnb/enc/gsmamr_encoder_wrapper.cpp
  ../../amrnb/enc/hp_max.cpp
  ../../amrnb/enc/hp_max.h
  ../../amrnb/enc/inter_36.cpp
  ../../amrnb/enc/inter_36.h
  ../../amrnb/enc/inter_36_tab.cpp
  ../../amrnb/enc/inter_36_tab.h
  ../../amrnb/enc/l_abs.cpp
  ../../amrnb/enc/l_abs.h
  ../../amrnb/enc/l_comp.cpp
  ../../amrnb/enc/l_extract.cpp
  ../../amrnb/enc/l_negate.cpp
  ../../amrnb/enc/lag_wind.cpp
  ../../amrnb/enc/lag_wind.h
  ../../amrnb/enc/lag_wind_tab.cpp
  ../../amrnb/enc/lag_wind_tab.h
  ../../amrnb/enc/levinson.cpp
  ../../amrnb/enc/levinson.h
  ../../amrnb/enc/lflg_upd.cpp
  ../../amrnb/enc/lpc.cpp
  ../../amrnb/enc/lpc.h
  ../../amrnb/enc/ol_ltp.cpp
  ../../amrnb/enc/ol_ltp.h
  ../../amrnb/enc/p_ol_wgh.cpp
  ../../amrnb/enc/pitch_fr.cpp
  ../../amrnb/enc/pitch_fr.h
  ../../amrnb/enc/pitch_ol.cpp
  ../../amrnb/enc/pitch_ol.h
  ../../amrnb/enc/pre_big.cpp
  ../../amrnb/enc/pre_big.h
  ../../amrnb/enc/pre_proc.cpp
  ../../amrnb/enc/pre_proc.h
  ../../amrnb/enc/prm2bits.cpp
  ../../amrnb/enc/prm2bits.h
  ../../amrnb/enc/q_gain_c.cpp
  ../../amrnb/enc/q_gain_c.h
  ../../amrnb/enc/q_gain_p.cpp
  ../../amrnb/enc/q_gain_p.h
  ../../amrnb/enc/qgain475.cpp
  ../../amrnb/enc/qgain475.h
  ../../amrnb/enc/qgain795.cpp
  ../../amrnb/enc/qgain795.h
  ../../amrnb/enc/qua_gain.cpp
  ../../amrnb/enc/s10_8pf.cpp
  ../../amrnb/enc/s10_8pf.h
  ../../amrnb/enc/set_sign.cpp
  ../../amrnb/enc/set_sign.h
  ../../amrnb/enc/sid_sync.cpp
  ../../amrnb/enc/sid_sync.h
  ../../amrnb/enc/sp_enc.cpp
  ../../amrnb/enc/sp_enc.h
  ../../amrnb/enc/spreproc.cpp
  ../../amrnb/enc/spreproc.h
  ../../amrnb/enc/spstproc.cpp
  ../../amrnb/enc/spstproc.h
  ../../amrnb/enc/ton_stab.cpp
  ../../amrnb/enc/ton_stab.h
  ../../amrnb/enc/vad1.cpp
  ../../amrnb/enc/vad1.h
  ../../amrnb/enc/vad2.h
  ../../amrnb/interf_dec.h
  ../../amrnb/interf_enc.h
  ../../amrnb/wrapper_amrnb.cpp
  ../../amrwb/dec_if.h
  ../../amrwb/if_rom.h
  ../../amrwb/wrapper_amrwb.cpp
  ../../config_libopencore-amr.h
  ../../include/decoder_amr_wb.h
  ../../include/pvamrwbdecoder_api.h
  ../../include/pvgsmamrdecoderinterface.h
  ../../oscl/oscl_base.h
  ../../oscl/oscl_base_macros.h
  ../../oscl/oscl_mem.h
  ../../src/agc2_amr_wb.cpp
  ../../src/band_pass_6k_7k.cpp
  ../../src/dec_acelp_2p_in_64.cpp
  ../../src/dec_acelp_4p_in_64.cpp
  ../../src/dec_alg_codebook.cpp
  ../../src/dec_gain2_amr_wb.cpp
  ../../src/deemphasis_32.cpp
  ../../src/dtx.h
  ../../src/dtx_decoder_amr_wb.cpp
  ../../src/e_pv_amrwbdec.h
  ../../src/get_amr_wb_bits.cpp
  ../../src/get_amr_wb_bits.h
  ../../src/highpass_400hz_at_12k8.cpp
  ../../src/highpass_50hz_at_12k8.cpp
  ../../src/homing_amr_wb_dec.cpp
  ../../src/interpolate_isp.cpp
  ../../src/isf_extrapolation.cpp
  ../../src/isp_az.cpp
  ../../src/isp_isf.cpp
  ../../src/lagconceal.cpp
  ../../src/low_pass_filt_7k.cpp
  ../../src/median5.cpp
  ../../src/mime_io.cpp
  ../../src/mime_io.h
  ../../src/noise_gen_amrwb.cpp
  ../../src/normalize_amr_wb.cpp
  ../../src/normalize_amr_wb.h
  ../../src/oversamp_12k8_to_16k.cpp
  ../../src/phase_dispersion.cpp
  ../../src/pit_shrp.cpp
  ../../src/pred_lt4.cpp
  ../../src/preemph_amrwb_dec.cpp
  ../../src/pv_amr_wb_type_defs.h
  ../../src/pvamrwb_math_op.cpp
  ../../src/pvamrwb_math_op.h
  ../../src/pvamrwbdecoder.cpp
  ../../src/pvamrwbdecoder.h
  ../../src/pvamrwbdecoder_acelp.h
  ../../src/pvamrwbdecoder_basic_op.h
  ../../src/pvamrwbdecoder_basic_op_cequivalent.h
  ../../src/pvamrwbdecoder_basic_op_gcc_armv5.h
  ../../src/pvamrwbdecoder_cnst.h
  ../../src/pvamrwbdecoder_mem_funcs.h
  ../../src/q_gain2_tab.cpp
  ../../src/q_pulse.h
  ../../src/qisf_ns.cpp
  ../../src/qisf_ns.h
  ../../src/qisf_ns_tab.cpp
  ../../src/qpisf_2s.cpp
  ../../src/qpisf_2s.h
  ../../src/qpisf_2s_tab.cpp
  ../../src/scale_signal.cpp
  ../../src/synthesis_amr_wb.cpp
  ../../src/synthesis_amr_wb.h
  ../../src/voice_factor.cpp
  ../../src/wb_syn_filt.cpp
  ../../src/weight_amrwb_lpc.cpp
)
# Output file name
set_target_properties(libopencore-amr
  PROPERTIES
  OUTPUT_NAME_DEBUG libopencore-amrD
)

# Additional include directories
set_property(TARGET libopencore-amr
  APPEND PROPERTY INCLUDE_DIRECTORIES
  $<$<CONFIG:Debug>:
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\amrnb\dec;
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\amrnb\enc;
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\amrnb\common;
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\oscl;
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\amrwb;
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\src;
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\include;
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\;
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\..\;
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\..\..\;
    J:\NlcJunk\DependLibs\libopencore-amr\build\VS2017\..\..\..\..\sysheaders>
)

# Preprocessor definitions
target_compile_definitions(libopencore-amr PRIVATE
  $<$<CONFIG:Debug>:_MBCS;TARGET_OS_WINDOWS;LIB_STATIC;_DEBUG;WIN64;HAVE_CONFIG_H;_LIB;__STDC_CONSTANT_MACROS;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_DEPRECATE>
)

# Minimal rebuild
if (MSVC)
  target_compile_options(libopencore-amr PRIVATE
    "$<$<CONFIG:Debug>:/Gm->"
  )
endif ()

# Multi-processor compilation
if (MSVC)
  target_compile_options(libopencore-amr PRIVATE
    "$<$<CONFIG:Debug>:/MP>"
  )
endif ()

# Precompiled header files
if (MSVC)
  target_compile_options(libopencore-amr PRIVATE
    ""
  )
endif ()
